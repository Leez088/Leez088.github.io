webpackJsonp([5],{1240:function(t,e,a){"use strict";e.a={props:{breadcrumbList:{required:!1,type:Array,default:[]}},computed:{},created:function(){}}},1241:function(t,e,a){"use strict";function r(t){a(1242)}var s=a(1240),n=a(1244),i=a(150),o=r,l=i(s.a,n.a,!1,o,"data-v-3800f5f9",null);e.a=l.exports},1242:function(t,e,a){var r=a(1243);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(242)("eb8923e2",r,!0,{})},1243:function(t,e,a){e=t.exports=a(105)(!1),e.push([t.i,".page_header[data-v-3800f5f9]{padding-bottom:16px}.page_header h4[data-v-3800f5f9]{margin:7px 0 0;line-height:28px}",""])},1244:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page_header"},[a("a-breadcrumb",t._l(t.breadcrumbList,function(e,r){return a("a-breadcrumb-item",{key:r},["link"==e.type?a("router-link",{attrs:{to:e.to}},[t._v("\n\t\t\t\t"+t._s(e.title)+"\n\t\t\t")]):t._e(),"name"==e.type?a("span",[t._v(t._s(e.title))]):t._e()],1)}),1)],1)},s=[],n={render:r,staticRenderFns:s};e.a=n},1290:function(t,e,a){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}var s=a(1241),n=a(243),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t};e.a={components:{MyBreadcrumb:s.a},data:function(){return{breadcrumbList:[{title:"法人管理",type:"link",to:"/lesseeManage/lesseeManage"},{title:"法人创建",type:"name"}],type:"create",formItemLayout:{labelCol:{span:6},wrapperCol:{span:18}},form:{},submitParams:{},initData:{lesseeId:"",lesseeName:"",lesseeState:"0"},loading:!1,list:[],columns:[]}},created:function(){this.init()},methods:{init:function(){var t=this;this.columns=this.getColumns();var e=this.$route.params;e.id&&(this.type=e.type,this.$set(this.breadcrumbList,"1",{title:"view"==this.type?"法人查看":"法人修改",type:"name"})),this.form=this.$form.createForm(this,{name:"lessee_form"}),e.id&&(n.a.queryLesseeInfo({lesseeId:e.id}).then(function(e){var a=e.resultObj;if(a){var s=[].concat(r(a.list))[0];t.initData=i({},s)}}).catch(function(t){}),this.getList(e.id))},submit:function(){var t=this;this.form.validateFields(function(e,a){if(!e){var r={lesseeId:a.lesseeId,lesseeName:a.lesseeName,lesseeState:a.lesseeState};t.submitParams=i({},r);var s=t,o=t.$route.params.type,l=t.$route.params.id,c=i({},r);l?"edit"==o&&n.a.updateLesseeInfo(c).then(function(){t.$success({title:"法人修改成功，请等待复核",onOk:function(){s.cancel()}})}).catch(function(e){t.$message.error(e.errorContext&&e.errorContext.errorMsg?e.errorContext.errorMsg:"接口异常")}):n.a.addLesseeInfo(c).then(function(){t.$success({title:"法人新增成功，请等待复核",onOk:function(){s.cancel()}})}).catch(function(e){t.$message.error(e.errorContext&&e.errorContext.errorMsg?e.errorContext.errorMsg:"接口异常")})}})},cancel:function(){this.$router.push({path:"/lesseeManage/lesseeManage"})},getList:function(t){var e=this,a={lesseeId:t,userType:"admin"};this.loading=!0,this.list=[],n.a.queryUser(a).then(function(t){var a=t.resultObj;a&&(e.list=[].concat(r(a.list))),e.loading=!1}).catch(function(t){e.loading=!1,e.$message.error(t.errorContext&&t.errorContext.errorMsg?t.errorContext.errorMsg:"接口异常")})},add:function(){var t=this.$route.params.id;this.$router.push({name:"lesseeUserCreate",params:{from:"lessee",lesseeId:t}})},modifyUser:function(t){var e=this.$route.params.id;this.$router.push({name:"lesseeUserEdit",params:{from:"lessee",type:"edit",id:t.employeeId,lesseeId:e}})},deleteUser:function(t){},viewUser:function(t){var e=this.$route.params.id;this.$router.push({name:"lesseeUserView",params:{from:"lessee",type:"view",id:t.employeeId,lesseeId:e}})},getColumns:function(){return[{title:"用户ID",key:"employeeId",dataIndex:"employeeId",scopedSlots:{customRender:"employeeId"}},{title:"用户姓名",key:"userName",dataIndex:"userName"},{title:"用户类型",key:"userType",dataIndex:"userType",scopedSlots:{customRender:"userType"}},{title:"状态",key:"statusId",dataIndex:"statusId",scopedSlots:{customRender:"statusId"}},{title:"关联角色",key:"roleId",dataIndex:"roleId"},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}]}}}},1385:function(t,e,a){var r=a(1386);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(242)("4847d683",r,!0,{})},1386:function(t,e,a){e=t.exports=a(105)(!1),e.push([t.i,".content .type[data-v-7527fb9a]{padding:10px}.content .edit-form .ant-form .ant-form-item .ant-btn[data-v-7527fb9a]{margin-left:10px}",""])},1387:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-view"},[a("MyBreadcrumb",{attrs:{breadcrumbList:t.breadcrumbList}}),a("div",{staticClass:"content"},[a("div",{staticClass:"edit-form"},[a("a-form",{attrs:{layout:"inline",form:t.form}},[a("a-row",[a("a-col",{attrs:{span:9}},[a("a-form-item",{attrs:{label:"法人Id","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["lesseeId",{initialValue:t.initData.lesseeId}],expression:"[\n\t\t\t\t\t\t\t\t\t'lesseeId',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tinitialValue: initData.lesseeId,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]"}],attrs:{placeholder:"法人Id",disabled:"create"!=t.type}})],1)],1),a("a-col",{attrs:{span:9}},[a("a-form-item",{attrs:{label:"法人名称","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["lesseeName",{initialValue:t.initData.lesseeName,rules:[{required:!0,message:"必填项"},{max:40,message:"最大长度不超过40字符"}]}],expression:"[\n\t\t\t\t\t\t\t\t\t'lesseeName',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tinitialValue: initData.lesseeName,\n\t\t\t\t\t\t\t\t\t\trules: [\n\t\t\t\t\t\t\t\t\t\t\t{ required: true, message: '必填项' },\n\t\t\t\t\t\t\t\t\t\t\t{ max: 40, message: '最大长度不超过40字符' },\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]"}],attrs:{placeholder:"法人名称不超过40字符",disabled:"view"==t.type}})],1)],1),a("a-col",{attrs:{span:9}},[a("a-form-item",{attrs:{label:"状态","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["lesseeState",{initialValue:t.initData.lesseeState,rules:[{required:!0,message:"必选项"}]}],expression:"[\n\t\t\t\t\t\t\t\t\t'lesseeState',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tinitialValue: initData.lesseeState,\n\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: '必选项' }],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]"}],attrs:{placeholder:"状态",disabled:"view"==t.type||"resetPassword"==t.type}},[a("a-select-option",{attrs:{value:"0"}},[t._v("有效")]),a("a-select-option",{attrs:{value:"1"}},[t._v("无效")])],1)],1)],1),"create"!=t.type?a("a-col",{attrs:{span:24}},[a("div",{staticClass:"action-btn"},[a("a-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("新增")])],1),a("div",[a("a-table",{attrs:{dataSource:t.list,columns:t.columns,rowKey:function(t){return t.userId},loading:t.loading},scopedSlots:t._u([{key:"employeeId",fn:function(e,r){return a("span",{},[a("a",{on:{click:function(e){return t.viewUser(r)}}},[t._v(t._s(e))])])}},{key:"userType",fn:function(e,r){return a("span",{},[a("span",[t._v(t._s("admin"===e?"管理员":"operator"===e?"操作员":""))])])}},{key:"statusId",fn:function(e,r){return a("span",{},[a("span",[t._v(t._s("0"===e?"正常":"1"===e?"锁定":"2"===e?"销户":""))])])}},{key:"action",fn:function(e,r){return a("span",{},[a("a",{staticStyle:{"margin-right":"10px"},on:{click:function(e){return t.modifyUser(r)}}},[t._v("修改")])])}}],null,!1,2299383285)})],1)]):t._e(),a("a-col",{attrs:{span:24}},[a("a-form-item",["view"!=t.type?a("a-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确定")]):t._e(),a("a-button",{on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)],1)],1)])],1)},s=[],n={render:r,staticRenderFns:s};e.a=n},588:function(t,e,a){"use strict";function r(t){a(1385)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(1290),n=a(1387),i=a(150),o=r,l=i(s.a,n.a,!1,o,"data-v-7527fb9a",null);e.default=l.exports}});