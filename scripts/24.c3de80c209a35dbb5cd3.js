webpackJsonp([24],{1219:function(t,e,a){"use strict";function r(t){a(1322)}Object.defineProperty(e,"__esModule",{value:!0});var o=a(1269),n=a(1324),i=a(150),l=r,s=i(o.a,n.a,!1,l,"data-v-3a89c12d",null);e.default=s.exports},1269:function(t,e,a){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}var o=a(243),n=a(3),i=a.n(n),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t};e.a={components:{},data:function(){return{list:[],params:{identNo:"",mobile:"",requestUrl:"",operationStatus:"",startDate:"",endDate:""},columns:[],formItemLayout:{labelCol:{span:6},wrapperCol:{span:18}},form:{},loading:!1,pagination:{current:1,total:0,pageSize:10},statusOption:[{label:"全部",value:"all"}],requestUrlOption:[{label:"全部",value:"all"}]}},created:function(){this.init()},methods:{init:function(){var t=this;this.form=this.$form.createForm(this,{name:"search_form"}),this.columns=this.getColumns(),this.search(),o.a.querySysDataByParameter({dataType:"operationStatus"}).then(function(e){if(e.resultObj){var a=[{label:"全部",value:"all"}];e.resultObj.forEach(function(t){a.push({label:t.dataName,value:t.dataCode})}),t.statusOption=[].concat(a)}}).catch(function(e){t.$message.error(e.errorContext&&e.errorContext.errorMsg?e.errorContext.errorMsg:"接口异常")}),o.a.querySysDataByParameter({dataType:"requestUrl"}).then(function(e){if(e.resultObj){var a=[{label:"全部",value:"all"}];e.resultObj.forEach(function(t){a.push({label:t.dataName,value:t.dataCode})}),t.requestUrlOption=[].concat(a)}}).catch(function(e){t.$message.error(e.errorContext&&e.errorContext.errorMsg?e.errorContext.errorMsg:"接口异常")})},getList:function(){var t=this,e=l({limit:this.pagination.pageSize,pageNum:this.pagination.current},this.params);this.loading=!0,this.list=[],o.a.queryCustLog(e).then(function(e){var a=e.resultObj;a&&(t.list=[].concat(r(a.list)),t.pagination.total=a.total),t.loading=!1}).catch(function(e){t.loading=!1,t.pagination.total=0,t.$message.error(e.errorContext&&e.errorContext.errorMsg?e.errorContext.errorMsg:"接口异常")})},search:function(){var t=this;this.form.validateFields(function(e,a){if(!e){var r={identNo:a.identNo,mobile:a.mobile,requestUrl:"all"==a.requestUrl?"":a.requestUrl,operationStatus:"all"==a.operationStatus?"":a.operationStatus,startDate:a["range-time-picker"]&&a["range-time-picker"][0]?a["range-time-picker"][0].format("YYYY-MM-DD HH:mm:ss"):"",endDate:a["range-time-picker"]&&a["range-time-picker"][1]?a["range-time-picker"][1].format("YYYY-MM-DD HH:mm:ss"):""};t.params=l({},r),t.getList()}})},reset:function(){this.form.resetFields()},onShowSizeChange:function(t,e){this.pagination.current=t,this.pagination.pageSize=e,this.getList()},onChange:function(t,e){this.pagination.current=t,this.pagination.pageSize=e,this.getList()},disabledDate:function(t){return t&&t>i()().endOf("day")},getColumns:function(){return[{title:"姓名",key:"userName",dataIndex:"userName"},{title:"身份证号",key:"identNo",dataIndex:"identNo"},{title:"手机号",key:"mobile",dataIndex:"mobile"},{title:"操作名称",key:"requestUrl",dataIndex:"requestUrl",scopedSlots:{customRender:"requestUrl"}},{title:"操作状态",key:"operationStatus",dataIndex:"operationStatus",scopedSlots:{customRender:"operationStatus"}},{title:"操作日期",key:"dealStartDate",dataIndex:"dealStartDate"}]}}}},1322:function(t,e,a){var r=a(1323);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(242)("10fb1a22",r,!0,{})},1323:function(t,e,a){e=t.exports=a(105)(!1),e.push([t.i,".content .type[data-v-3a89c12d]{padding:10px}.content .search-form .ant-form .ant-form-item .ant-btn[data-v-3a89c12d]{margin-left:10px}.content .action-btn[data-v-3a89c12d]{margin:0 0 10px}",""])},1324:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-view"},[a("div",{staticClass:"content"},[a("div",{staticClass:"search-form"},[a("a-form",{attrs:{layout:"inline",form:t.form}},[a("a-row",[a("a-col",{attrs:{span:7}},[a("a-form-item",{attrs:{label:"身份证号","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["identNo",{initialValue:"",rules:[]}],expression:"['identNo', { initialValue: '', rules: [] }]"}],attrs:{placeholder:"身份证号"}})],1)],1),a("a-col",{attrs:{span:7}},[a("a-form-item",{attrs:{label:"手机号","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",{initialValue:"",rules:[]}],expression:"['mobile', { initialValue: '', rules: [] }]"}],attrs:{placeholder:"手机号"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",{attrs:{label:"操作名称","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["requestUrl",{initialValue:"all",rules:[]}],expression:"['requestUrl', { initialValue: 'all', rules: [] }]"}],attrs:{options:t.requestUrlOption,placeholder:"操作名称"}})],1)],1),a("a-col",{attrs:{span:7}},[a("a-form-item",{attrs:{label:"操作状态","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["operationStatus",{initialValue:"all",rules:[]}],expression:"['operationStatus', { initialValue: 'all', rules: [] }]"}],attrs:{options:t.statusOption,placeholder:"操作状态"}})],1)],1),a("a-col",{attrs:{span:7}},[a("a-form-item",{attrs:{label:"日期范围","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[a("a-range-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["range-time-picker",{initialValue:[],rules:[{type:"array"}]}],expression:"[\n\t\t\t\t\t\t\t\t\t'range-time-picker',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tinitialValue: [],\n\t\t\t\t\t\t\t\t\t\trules: [{ type: 'array' }],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]"}],attrs:{showTime:"",disabledDate:t.disabledDate,format:"YYYY-MM-DD HH:mm:ss"}})],1)],1),a("a-col",{attrs:{span:3}},[a("a-form-item",[a("a-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),a("a-button",{on:{click:t.reset}},[t._v("重置")])],1)],1)],1)],1)],1),a("div",[a("a-table",{attrs:{dataSource:t.list,columns:t.columns,rowKey:function(t,e){return e},loading:t.loading,pagination:{showSizeChanger:!0,showTotal:function(){return"共"+t.pagination.total+"条记录"},onShowSizeChange:t.onShowSizeChange,onChange:t.onChange,current:t.pagination.current?t.pagination.current:1,total:t.pagination.total?t.pagination.total:0,pageSize:t.pagination.pageSize?t.pagination.pageSize:10}},scopedSlots:t._u([{key:"requestUrl",fn:function(e,r){return a("span",{},[a("span",[t._v(t._s(t.requestUrlOption.filter(function(t){return t.value==e})[0]?t.requestUrlOption.filter(function(t){return t.value==e})[0].label:e))])])}},{key:"operationStatus",fn:function(e,r){return a("span",{},[a("span",[t._v(t._s(t.statusOption.filter(function(t){return t.value==e})[0]?t.statusOption.filter(function(t){return t.value==e})[0].label:e))])])}}])})],1)])])},o=[],n={render:r,staticRenderFns:o};e.a=n}});