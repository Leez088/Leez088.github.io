webpackJsonp([31],{1215:function(t,a,e){"use strict";function n(t){e(1300)}Object.defineProperty(a,"__esModule",{value:!0});var o=e(1262),r=e(1302),i=e(150),s=n,l=i(o.a,r.a,!1,s,"data-v-64f0a257",null);a.default=l.exports},1262:function(t,a,e){"use strict";function n(t){if(Array.isArray(t)){for(var a=0,e=Array(t.length);a<t.length;a++)e[a]=t[a];return e}return Array.from(t)}var o=e(243),r=e(106),i=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t};a.a={components:{},data:function(){return{list:[],params:{roleName:"",startTime:"",endTime:"",statusId:"0"},columns:[],formItemLayout:{labelCol:{span:6},wrapperCol:{span:18}},form:{},loading:!1,pagination:{current:1,total:0,pageSize:10},formatTime:r.d}},created:function(){this.init()},methods:{init:function(){this.form=this.$form.createForm(this,{name:"search_form"}),this.columns=this.getColumns(),this.search()},getList:function(){var t=this,a=i({limit:this.pagination.pageSize,pageNum:this.pagination.current},this.params);this.loading=!0,this.list=[],o.a.getRole(a).then(function(a){var e=a.resultObj;e&&(t.list=[].concat(n(e.list)),t.pagination.total=e.total),t.loading=!1}).catch(function(a){t.loading=!1,t.pagination.total=0,t.$message.error(a.errorContext&&a.errorContext.errorMsg?a.errorContext.errorMsg:"接口异常")})},search:function(){var t=this;this.form.validateFields(function(a,e){if(!a){var n={roleName:e.roleName,statusId:"0"==e.statusId?"":e.statusId};t.params=i({},n),t.getList()}})},reset:function(){this.form.resetFields()},add:function(){this.$router.push({path:"/authority/roleCreate"})},modifyRole:function(t){this.$router.push({name:"roleEdit",params:{type:"edit",id:t.roleId}})},deleteRole:function(t){var a=this,e={roleId:t.roleId,statusId:t.statusId};o.a.deleteRole(e).then(function(t){a.$message.success("删除成功"),a.search()}).catch(function(t){})},viewRole:function(t){this.$router.push({name:"roleView",params:{type:"view",id:t.roleId}})},onShowSizeChange:function(t,a){this.pagination.current=t,this.pagination.pageSize=a,this.getList()},onChange:function(t,a){this.pagination.current=t,this.pagination.pageSize=a,this.getList()},getColumns:function(){return[{title:"角色名称",key:"roleName",dataIndex:"roleName",scopedSlots:{customRender:"roleName"}},{title:"角色状态",key:"statusId",dataIndex:"statusId",scopedSlots:{customRender:"statusId"}},{title:"创建时间",key:"createdStamp",dataIndex:"createdStamp",scopedSlots:{customRender:"createdStamp"}},{title:"最近修改时间",key:"lastUpdatedStamp",dataIndex:"lastUpdatedStamp",scopedSlots:{customRender:"lastUpdatedStamp"}},{title:"注释",key:"description",dataIndex:"description"},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}]}}}},1300:function(t,a,e){var n=e(1301);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e(242)("c6d677cc",n,!0,{})},1301:function(t,a,e){a=t.exports=e(105)(!1),a.push([t.i,".content .type[data-v-64f0a257]{padding:10px}.content .search-form .ant-form .ant-form-item .ant-btn[data-v-64f0a257]{margin-left:10px}.content .action-btn[data-v-64f0a257]{margin:0 0 10px}",""])},1302:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-view"},[e("div",{staticClass:"content"},[e("div",{staticClass:"search-form"},[e("a-form",{attrs:{layout:"inline",form:t.form}},[e("a-row",[e("a-col",{attrs:{span:5}},[e("a-form-item",{attrs:{label:"角色名称","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["roleName",{initialValue:"",rules:[]}],expression:"['roleName', { initialValue: '', rules: [] }]"}],attrs:{placeholder:"角色名称"}})],1)],1),e("a-col",{attrs:{span:5}},[e("a-form-item",{attrs:{label:"状态","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[e("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["statusId",{initialValue:t.params.statusId,rules:[]}],expression:"['statusId', { initialValue: params.statusId, rules: [] }]"}],attrs:{placeholder:"状态"}},[e("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),e("a-select-option",{attrs:{value:"ENABLED"}},[t._v("启用")]),e("a-select-option",{attrs:{value:"DISABLES"}},[t._v("关闭")])],1)],1)],1),e("a-col",{attrs:{span:4}},[e("a-form-item",[e("a-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),e("a-button",{on:{click:t.reset}},[t._v("重置")])],1)],1)],1)],1)],1),e("div",{staticClass:"action-btn"},[e("a-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("新增")])],1),e("div",[e("a-table",{attrs:{dataSource:t.list,columns:t.columns,rowKey:function(t){return t.roleId},loading:t.loading,pagination:{showSizeChanger:!0,showTotal:function(){return"共"+t.pagination.total+"条记录"},onShowSizeChange:t.onShowSizeChange,onChange:t.onChange,current:t.pagination.current?t.pagination.current:1,total:t.pagination.total?t.pagination.total:0,pageSize:t.pagination.pageSize?t.pagination.pageSize:10}},scopedSlots:t._u([{key:"roleName",fn:function(a,n){return e("span",{},[e("a",{on:{click:function(a){return t.viewRole(n)}}},[t._v(t._s(a))])])}},{key:"statusId",fn:function(a,n){return e("span",{},[e("span",[t._v(t._s("ENABLED"===a?"启用":"DISABLES"===a?"关闭":""))])])}},{key:"createdStamp",fn:function(a,n){return e("span",{},[e("span",[t._v(t._s(a?t.formatTime(a):"——"))])])}},{key:"lastUpdatedStamp",fn:function(a,n){return e("span",{},[e("span",[t._v(t._s(a?t.formatTime(a):"——"))])])}},{key:"action",fn:function(a,n){return e("span",{},[e("a",{staticStyle:{"margin-right":"10px"},on:{click:function(a){return t.modifyRole(n)}}},[t._v("修改")]),e("a",{on:{click:function(a){return t.deleteRole(n)}}},[t._v("删除")])])}}])})],1)])])},o=[],r={render:n,staticRenderFns:o};a.a=r}});