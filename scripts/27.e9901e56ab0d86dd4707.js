webpackJsonp([27],{1235:function(t,e,a){"use strict";function i(t){a(1376)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(1287),r=a(1378),o=a(150),s=i,l=o(n.a,r.a,!1,s,"data-v-094c6d3c",null);e.default=l.exports},1287:function(t,e,a){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}var n=a(243),r=a(151),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};e.a={components:{},data:function(){return{list:[],params:{identNo:"",mobile:"",userName:""},columns:[],formItemLayout:{labelCol:{span:6},wrapperCol:{span:18}},form:{},loading:!1,pagination:{current:1,total:0,pageSize:10}}},computed:o({},Object(r.mapGetters)(["userInfo"])),created:function(){this.init()},methods:{init:function(){this.form=this.$form.createForm(this,{name:"search_form"}),this.columns=this.getColumns(),this.search()},getList:function(){var t=this,e=o({limit:this.pagination.pageSize,pageNum:this.pagination.current},this.params);this.loading=!0,this.list=[],n.a.queryWhiteList(e).then(function(e){var a=e.resultObj;a&&(t.list=[].concat(i(a.list)),t.pagination.total=a.total),t.loading=!1}).catch(function(e){t.loading=!1,t.pagination.total=0,t.$message.error(e.errorContext&&e.errorContext.errorMsg?e.errorContext.errorMsg:"接口异常")})},search:function(){var t=this;this.form.validateFields(function(e,a){if(!e){var i={identNo:a.identNo,mobile:a.mobile,userName:a.userName};t.params=o({},i),t.getList()}})},reset:function(){this.form.resetFields()},exportExcel:function(){var t=o({lesseeId:this.userInfo.lesseeId},this.params);n.a.whitelistExport(t)},add:function(){this.$router.push({path:"/backstageManage/whitelistCreate"})},modify:function(t){this.$router.push({name:"whitelistModify",params:{type:"edit",id:t.id}})},del:function(t){var e=this,a={id:t.id,lesseeId:this.userInfo.lesseeId},i={jsonStr:JSON.stringify(a),operationType:2,transType:3};n.a.addReviewBusi(i).then(function(){e.$success({title:"删除成功，请等待复核",onOk:function(){}})}).catch(function(t){e.$message.error(t.errorContext&&t.errorContext.errorMsg?t.errorContext.errorMsg:"接口异常")})},onShowSizeChange:function(t,e){this.pagination.current=t,this.pagination.pageSize=e,this.getList()},onChange:function(t,e){this.pagination.current=t,this.pagination.pageSize=e,this.getList()},getColumns:function(){return[{title:"客户姓名",key:"userName",dataIndex:"userName"},{title:"客户身份证号",key:"identNo",dataIndex:"identNo"},{title:"客户手机号",key:"mobile",dataIndex:"mobile"},{title:"说明",key:"description",dataIndex:"description"},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}]}}}},1376:function(t,e,a){var i=a(1377);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(242)("13a31898",i,!0,{})},1377:function(t,e,a){e=t.exports=a(105)(!1),e.push([t.i,".content .type[data-v-094c6d3c]{padding:10px}.content .search-form .ant-form .ant-form-item .ant-btn[data-v-094c6d3c]{margin-left:10px}.content .action-btn[data-v-094c6d3c]{margin:0 0 10px}",""])},1378:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-view"},[a("div",{staticClass:"content"},[a("div",{staticClass:"search-form"},[a("a-form",{attrs:{layout:"inline",form:t.form}},[a("a-row",[a("a-col",{attrs:{span:6}},[a("a-form-item",{attrs:{label:"客户身份证号","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["identNo",{initialValue:"",rules:[]}],expression:"['identNo', { initialValue: '', rules: [] }]"}],attrs:{placeholder:"客户身份证号"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",{attrs:{label:"客户手机号","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",{initialValue:"",rules:[]}],expression:"['mobile', { initialValue: '', rules: [] }]"}],attrs:{placeholder:"客户手机号"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",{attrs:{label:"客户姓名","label-col":t.formItemLayout.labelCol,"wrapper-col":t.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userName",{initialValue:"",rules:[]}],expression:"['userName', { initialValue: '', rules: [] }]"}],attrs:{placeholder:"客户姓名"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",[a("a-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),a("a-button",{on:{click:t.reset}},[t._v("重置")]),a("a-button",{attrs:{icon:"download"},on:{click:t.exportExcel}},[t._v("导出")])],1)],1)],1)],1)],1),a("div",{staticClass:"action-btn"},[a("a-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("新增")])],1),a("div",[a("a-table",{attrs:{dataSource:t.list,columns:t.columns,rowKey:function(t,e){return e},loading:t.loading,pagination:{showSizeChanger:!0,showTotal:function(){return"共"+t.pagination.total+"条记录"},onShowSizeChange:t.onShowSizeChange,onChange:t.onChange,current:t.pagination.current?t.pagination.current:1,total:t.pagination.total?t.pagination.total:0,pageSize:t.pagination.pageSize?t.pagination.pageSize:10}},scopedSlots:t._u([{key:"action",fn:function(e,i){return a("span",{},[a("a",{staticStyle:{"margin-right":"10px"},on:{click:function(e){return t.modify(i)}}},[t._v("修改")]),a("a",{on:{click:function(e){return t.del(i)}}},[t._v("删除")])])}}])})],1)])])},n=[],r={render:i,staticRenderFns:n};e.a=r}});